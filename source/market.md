title: 交易系統
---

玩家可通過 [終端（terminal）](/api/#StructureTerminal)傳送各種資源到指定房間，且無論距離遠近，通過終端傳送的資源無收發延遲。

游戲內的虛擬貨幣為 **積分（Credits）** ，簡稱Cr。Cr與玩家賬號直接關聯，且可用於游戲內交易。

{% note info %}
要取得第一筆積分，你需要與市場上現有的買單成交。
{% endnote %}

## 交易系統及市場訂單

Screeps 的交易系統本質是由終端（Terminal）收發的市場中間人交易。通過創建訂單，您可以指定交易的目標終端，、源類型、要出售/購買的資源數量以及資源的單價。每個發布的訂單對游戲世界中的所有玩家均可見，你可以通過 [Market](https://screeps.com/a/#!/market) 頁面或者 API 方法 [`Game.market.getAllOrders`](/api/#Game.market.getAllOrders) 來訪問這些訂單。創建任何類型的訂單都需要繳納訂單總價的 5% credit 的手續費。

為了執行交易，另一方同樣需要有一個終端來接受資源（拍下一個賣出訂單）或發送資源（拍下一個購買訂單）。想要完成交易，你可以使用市場頁面或者 [`Game.market.deal`](/api/#Game.market.deal) 方法並指定想要交易的來自其他玩家的訂單、你的終端以及想要交易的資源數量。然後，雙方的終端自動進行交易，從買方的帳戶中取出相應的 credit，然後將這筆款項轉移給賣方。

{% note info %}
由於能量開支為終端傳送消耗，因此無論訂單為買入類或賣出類，能量開支均從接單方終端扣除。
{% endnote %}

如果一個賣單沒有足夠的資源，或者買單沒有足夠的Cr。這個訂單會轉為未激活狀態。

## 例子

一下舉例以更好的說明：

*   假設玩家「愛麗絲」從 W1N1 出了張以單價為 10 ，總量為 1000 UH2O 的買入單。因上文已闡述手續費為商品總價的 5%，
「愛麗絲」需要繳納 500 Cr（10 * 1000 * 5%）手續費給市場。
*   「鮑勃」在市場上發現了「愛麗絲」的單，並決定從其相隔 3 個房間的 W4N2 終端賣 200 UH2O 給「愛麗絲」，
則「鮑勃」需支付 60 能量[^計算公式]。「鮑勃」交易成功後，200 UH2O 便會從「鮑勃」的終端傳入「愛麗絲」的終端，
「鮑勃」同時從「愛麗絲」處獲得 2,000 Cr，且「鮑勃」終端會被扣除 60 能量的運輸費。
*   現在，「鮑勃」又發現了「查理」的單價為 0.5 的賣出單。「鮑勃」覺得用手上的 2,000 Cr從「查理」買入 4,000 能量。
然而，「查理」的房間跟「鮑勃」的隔了 4 個房間，因此運輸費為 1,600 能量。盡管是能量是由「查理」賣給「鮑勃」，但由於「鮑勃」為接單方，運輸費還是由「鮑勃」出。
於是，「鮑勃」在交易前至少需要有 1,600 能量存於終端。交易成功後，「查理」得到了 2,000 Cr，發出了 4,000 能量給「鮑勃」。

小結上述交易：

*   愛麗絲（下了個買入單，總量 1000 UH2O）：+200 UH2O）：, -2000-500 Cr
*   鮑勃（接了兩單）：-200 UH2O，+4000-60-1600 能量, +2000-2000 Cr.
*   查理（下了個賣出單，賣能量）：-4000 能量，+2000 Cr

## NPC 終端（NPC Terminals）

Sector 間的「十字路口」（比如，房間 W0N0，W10N0，W10N10，等），都有 NPC 終端。玩家可像與其他玩家交易一樣，通過 [`Game.market`](/api/#Game.market) 與 NPC 交易。NPC 終端中的訂單都存在一定的數量上限，並且會按照一組規則進行補充。盡管 NPC 開出的價格並不是很有競爭力，但您可以由此將您采集到的資源快速兌換成 credit，反之亦然。

## 訂閱代幣（Subscription Tokens）

玩家可從市場上購買**訂閱代幣**。當玩家激活訂閱代幣後，會獲得為期 60 天的訂閱。訂閱代幣雖不是游戲世界中的物品，但卻可免終端放入市場中交易。

玩家可以像購買 CPU 訂閱那樣來購買訂閱代幣。購買後，訂閱代幣會直接被放入賬號，並可像虛擬物品一樣買賣。

因此，如果一個玩家的代碼夠優秀的話，他/她將不用花一分錢就可以解鎖完全的 CPU！同時，訂閱代幣也可通過 [Steam 社區市場](http://steamcommunity.com/market/listings/464350/Subscription%20Token) 進行交易，也就是說，您可以通過出售訂閱代幣來在 Steam 錢包裡換取真正的 money。

[^計算公式]: /api/#Game.market.calcTransactionCost
